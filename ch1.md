


计算机程序有几种编码方式。例如，有些程序使用抽象指令集（abstract instruction sets  ）进行编码，并由模拟器或虚拟机执行。模拟器或虚拟机也是一个程序，它们是设计用来解释和执行抽象指令集的。Bash脚本、Java字节码程序和Python脚本，是使用抽象指令集编码的常见例子，需要模拟器或虚拟机来支持它们的执行。

原生程序（native program  ）是一种使用指令编码的程序，这些指令能够直接被计算机硬件执行，无需借助模拟器或虚拟机。在本书中，我们将重点讨论原生程序。因此，从现在起，无论何时我们使用“程序”这个词，除非另有说明，否则，我们指的是原生程序。

原生程序指令通常执行简单的操作，如对两个数字进行相加或者比较。但是，通过执行多个简单的指令，计算机能够解决复杂问题。

大多数现代计算机都是用数字电路制造的。这些机器通常使用映射到两种状态的电压水平（voltage levels  ）来表示信息。这两种状态可以是HIGH/LOW，或者是0/1 。因此，现代计算机的基本信息单位是一个二进制数字：1或0。因此，计算机上信息和指令被编码为二进制数字序列，或者说是位（bits）的序列。

# 1.1 计算机的主要组件

计算器通常由以下主要组件构成

* **主存（Main memory  ）**：主存用于存储正在执行的程序的指令和数据。主存通常是不稳定的，因此，如果计算机被关闭，它的内容就会丢失。

  

* **中央处理器（Central Processing Unit  ）**：CPU负责执行程序，它从主存中获取程序的指令并执行。在执行指令期间，它经常会从主存中读写数据。

  

* **持久化存储器（Persistent storage  ）**：由于主存是不稳定的，通常有一个持久存储设备来在断电时保存程序和数据。硬盘驱动器(HDD)、固态硬盘(SSD)和闪存驱动器都是持久存储设备的例子。

  

* **外围设备（Peripherals  ）**：外设是连接到计算器的输入/输出设备，例如显卡、USB控制器、网卡等。

  

* **总线（Bus）**：总线是在计算机组件之间传输信息的通信系统。这种系统通常由负责传输信息的线路（wires ）和协调通信的相关电路（associated circuitries  ）组成。

图1.1展示了一个计算机系统，该系统的主存、CPU、持久化存储设备（HDD）和两个I/O设备通过系统总线连接起来。    



![](./imgs/ch1/1.1.png)  

`图1.1 计算机系统中的组件通过一个系统总线相连`

## 1.1.1 主存

计算机主存是用来存储程序指令和数据的存储设备，它由一组*字*<sup>[1]</sup>（memory words ）组成。每个*字*能够存储一组位(通常是8位)，并由一个唯一的数字标识，该数字被称为*字地址*（memory word address）。

字节可寻址内存（byte addressable memory  ）是一种内存，其中的每个*字*（此时又称为memory location）存储一个byte<sup>[2]</sup>，并与一个唯一的地址相关联。图1.2说明了字节可寻址内存的组织方式。可以看到，由地址5标识的*字*包含了值 $11111111_2$，而位于地址为0的*字*则包含了值 $00110110_2$  

![](./imgs/ch1/1.1.1.png)    

`图1.2 字节可寻址内存的组织方式，（a）是2进制方式显示，（b）是16进制方式显示`



>  [1] 本文直接将memory words翻译为“字”，而不是直译为“内存字”，这样显得更为简洁
>
>  [2] 原文中没有直接定义byte，按照约定俗成，一个byte就是8个bit。
>
>  [3] 请注意区分字（memory words ）、byte，内存地址3个不同的概念。其中memory words又称为memory location。

## 1.1.2 CPU





# 1.2 执行程序指令



# 1.3 启动过程