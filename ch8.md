# 8.1 内存布局

**存储程序**（stored-program）计算机体系结构是一种在内存中同时存储数据和代码的计算机体系结构。**冯·依曼架构**是一种计算机体系结构，它将数据和代码存储在同一个地址空间中。大多数现代计算机结构都是冯·诺依曼架构。

图8.1展示了在冯·诺依曼架构的内存上组织程序的一种常见方式。

* **代码空间是存储程序代码的内存空间**，通常放低地址的开头。
* **静态数据空间是存储程序静态数据**（例如全局变量）的内存空间，放置在代码空间之后。
* **堆空间是由内存分配库管理的内存空间**，分配在静态数据空间之后。堆一开始很小，每当内存分配库需要更多空间时，它都会调用操作系统增大堆区域，这是通过增加 *程序中断*（program break，它定义了堆空间的结尾）地址来实现的。
* 最后，**栈空间是存储程序栈的内存空间**，通常放置在内存的末尾（即高地址）。

![](./imgs/ch8/8.1.png)

> 图8.1 



# 8.2 程序的栈

# 8.3 ABI与软件组织（composition）

# 8.4 例程的传参与返回值

# 8.5 值和参数引用

# 8.6 全局变量vs局部变量

# 8.7 寄存器的使用策略

# 8.8 栈帧（Stack Frames）和帧指针

# 8.9 实现兼容RISC-V ilp32指令集的例程

# 8.10 示例



